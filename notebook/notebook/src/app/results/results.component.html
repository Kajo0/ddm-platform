<p>results works!</p>

<button (click)="loadInstances()">Load instances</button>
<button (click)="loadAlgorithms()">Load algorithms</button>
<button (click)="loadData()">Load data</button>
<button (click)="loadResults()">Load results</button>

<hr>

<div *ngIf="currentView === resultsView.INSTANCE && instanceConfig">
  <div *ngFor="let instance of Object.values(instanceConfig)" class="outline">
    [{{instance.id}}] - {{instance.type}}:

    <ul>
      <li *ngFor="let node of Object.values(instance.nodes)">
        {{node.type}} / {{node.localhostIp}}:{{node.agentPort}}
        cpu={{node.cpu}}, memory={{node.memory}}GB
      </li>
    </ul>

    <ng-container *ngIf="instance.info.dataScatter">
      Data:
      <ul>
        <li *ngFor="let data of instance.info.dataScatter | keyvalue">
          data id={{data.key}}
          <span *ngIf="dataConfig">({{dataConfig[data.key].originalName}})</span>
          <ul>
            <li>strategy: {{data.value.strategyName}}</li>
            <li>params: {{data.value.strategyParams}}</li>
            <li>distance func: {{data.value.distanceFunction}}</li>
            <li>seed: {{data.value.seed}}</li>
          </ul>
        </li>
      </ul>
    </ng-container>

    <ng-container *ngIf="instance.info.algorithmScatter">
      Algorithms:
      <ul>
        <li *ngFor="let algId of instance.info.algorithmScatter">
          {{algId}}
          <span *ngIf="algorithmConfig">({{algorithmConfig[algId].algorithmName}})</span>
        </li>
      </ul>
    </ng-container>
  </div>
</div>

<div *ngIf="currentView === resultsView.ALGORITHMS && algorithmConfig">
  <div *ngFor="let algorithm of Object.values(algorithmConfig)" class="outline">
    [{{algorithm.id}}] {{algorithm.algorithmType}} - {{algorithm.algorithmName}}
  </div>
</div>

<div *ngIf="currentView === resultsView.DATA && distanceFunctionConfig && partitionStrategyConfig && dataConfig">
  Custom distance functions:
  <div *ngFor="let distanceFunc of Object.values(distanceFunctionConfig)" class="outline">
    [{{distanceFunc.id}}] {{distanceFunc.functionName}}
  </div>

  <hr>

  Custom partition strategies:
  <div *ngFor="let strategy of Object.values(partitionStrategyConfig)" class="outline">
    [{{strategy.id}}] {{strategy.strategyName}}
  </div>

  <hr>

  Loaded datasets:
  <div *ngFor="let data of Object.values(dataConfig)" class="outline">
    [{{data.id}}] {{data.type}} - {{data.originalName}}
    <ul>
      <li>size: {{data.sizeInBytes}}b</li>
      <li>number of samples: {{data.numberOfSamples}}</li>
      <li>separator: {{data.separator}}</li>
      <li>id index: {{data.idIndex}}</li>
      <li>label index: {{data.labelIndex}}</li>
      <li>attributes: {{data.attributesAmount}}</li>
      <li>colTypes: {{data.colTypes}}</li>
    </ul>
  </div>
</div>

<div *ngIf="currentView === resultsView.RESULTS && lastResults">
  Results for execution id: {{lastExecutionId}}
  <hr>
  <div *ngFor="let metric of lastResults | keyvalue" class="outline">
    {{metric.key}}={{metric.value}}
  </div>
</div>
